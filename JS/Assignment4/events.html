<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Handling</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        .question-2 {
            display: flex;
            justify-content: center;
        }

        .box-wrap {
            height: 400px;
            width: 400px;
            border: 5px solid black;
            background-color: red;
        }
    </style>
</head>
<body id="body">
    <main>
        <!-- Question 1 -->
        <div class="question-1 my-4 p-5">
            <h1>Click on the below buttons to change the background color: </h1>
            <button class="btn btn-danger" id="red">Red</button>
            <button class="btn btn-primary" id="blue">Blue</button>
            <button class="btn btn-secondary" id="green">Green</button>
            <button class="btn btn-white" id="white">Reset</button>
        </div>

        <!-- Question 2 -->
        <div class="question-2 my-4 p-5">
            <div class="box-wrap" id="box">

            </div>
        </div>

        <!-- Question 3 -->
        <div class="question-3 my-4 p-5">
            <input type="text" id="input" placeholder="Type Here">
            <p id="key"></p>
        </div>

        <!-- Question 4 -->
        <div class="question-4 my-4 p-5">
            <form id="question-4">
                <label for="name">Name:</label>
                <input id="name" name="name">
                <br><br>

                <label for="email">Email:</label>
                <input id="email" name="email">
                <br><br>
                <input type="submit"/>
            </form>
        </div>

        <!-- Question 5 -->
        <div class="question-5 my-4 p-5">
           <ul id="target-ul">
                <li>Virat</li>
                <li>Rohith</li>
                <li>Dhoni</li>
                <li>Ashwin</li>
                <li>Jadeja</li>
           </ul>
        </div>

        <!-- Question 6 -->
        <div class="question-6 my-4 p-5">
            <button id="add" class="btn-primary border p-2">Add More+</button>
            <div id="btn-container"></div>
         </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>

    <script>
        // Script for updating background color based on button click
        const red = document.getElementById("red");
        const blue = document.getElementById("blue");
        const green = document.getElementById("green");
        const reset = document.getElementById("white");
        const body = document.getElementById("body");

        red.addEventListener("click", () => {
            body.style.background="red";
        });

        blue.addEventListener("click", () => {
            body.style.background="blue";
        });

        green.addEventListener("click", () => {
            body.style.background="green";
        });

        reset.addEventListener("click", () => {
            body.style.background="white";
        });

        // Script to change color of box based on mouse enter and mouse leave
        const box = document.getElementById("box");

        box.addEventListener('mouseenter', () => {
            box.style.backgroundColor = 'black';
            box.style.borderColor = "yellow";
        });

        box.addEventListener('mouseleave', () => {
            box.style.backgroundColor = 'red';
            box.style.borderColor = "black";
        });

        // Script to show the key that we have enter in the alert
        const input = document.getElementById('input');
        const key = document.getElementById('key');

        input.addEventListener('keydown', (event) => {
            key.textContent = 'Entered Value: ' + event.key;

            if (event.key === 'Enter') {
                alert('Given Value: ' + input.value);
            }
        });

        // Script to add manual validation
        document.getElementById("question-4").addEventListener("submit", (e) => {
            e.preventDefault();

            const name = document.getElementById("name").value.trim();
            const email = document.getElementById("email").value.trim();
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            const textPattern = /^[A-Za-z]+$/;

            if(textPattern.test(name) && emailPattern.test(email)) {
                alert("Form submitted!");
            } else {
                alert("Please enter valid details");
            }
        });

        // To show the list content in the alert popup
        const ul = document.getElementById("target-ul");

        ul.addEventListener("click", (e) => {
            if(e.target.tagName === 'LI') {
                alert("Hello from "+ e.target.textContent);
            }
        });

        // Script to add more buttons
        const add = document.getElementById("add");
        const btnContainer = document.getElementById("btn-container");
        let count = 1;

        add.addEventListener("click", () => {
            let newbtn = document.createElement("button");
            newbtn.innerText = `Click Me ${count}`;
            newbtn.classList.add("m-3");

            btnContainer.appendChild(newbtn);

            newbtn.addEventListener('click', function() {
                alert('Hello from ' + newbtn.textContent);
            });
            count++;
        })
    </script>
</body>
</html>